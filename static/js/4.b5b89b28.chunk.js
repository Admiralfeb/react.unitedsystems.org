(this["webpackJsonpusc-website"]=this["webpackJsonpusc-website"]||[]).push([[4],{249:function(e,n,i){"use strict";var a=i(250);i.o(a,"ShipSize")&&i.d(n,"ShipSize",(function(){return a.ShipSize}));var t=i(251);i.o(t,"ShipSize")&&i.d(n,"ShipSize",(function(){return t.ShipSize}));var r=i(252);i.o(r,"ShipSize")&&i.d(n,"ShipSize",(function(){return r.ShipSize}));var l=i(253);i.d(n,"ShipSize",(function(){return l.a}));i(254)},250:function(e,n){},251:function(e,n){},252:function(e,n){},253:function(e,n,i){"use strict";var a;i.d(n,"a",(function(){return a})),function(e){e[e.S=1]="S",e[e.M=2]="M",e[e.L=3]="L"}(a||(a={}))},254:function(e,n){},283:function(e,n,i){},384:function(e,n,i){},385:function(e,n,i){},387:function(e,n,i){},417:function(e,n,i){"use strict";i.r(n),i.d(n,"default",(function(){return Re}));var a,t=i(1),r=i(18),l=i(65),s=i(6),c=i.n(s),d=i(10),u=i(31),o=i(16),b=i(37),j=i(77),v=i(198),p=i(40),h=i(409),m=i(0),f=i(27),O=i(122),g=function(e){return O.find((function(n){return n.shipId===e}))},x=i(279),k=i(107),N=i(402);!function(e){e.exp="Exploration",e.jump="Jump Ship",e.hge="HGE Farming",e.cargo="Cargo",e.mining="Miner",e.pve="Combat - PvE",e.pvp="Combat - PvP",e.ax="Combat - Anti-Xeno",e.racing="Racing",e.multi="Multi-Purpose"}(a||(a={}));var S=function(e){var n=e.selectedSpecialties,i=e.setSpecialties;return Object(t.jsxs)("div",{className:"specializationQuery",children:[Object(t.jsx)("h3",{className:"queryHeader",children:"Ship Specializations"}),Object(t.jsx)(p.a,{children:"Select specializations that the ship should fulfill."}),Object(t.jsx)("div",{className:"specialButtons",children:y().map((function(e){return Object(t.jsx)(N.a,{value:e,selected:n.includes(e),onChange:function(){return function(e){var a=[];a=n.includes(e)?n.filter((function(n){return n!==e})):[].concat(Object(k.a)(n),[e]),i(a)}(e)},children:e},e)}))})]})},y=function(){var e=[];for(var n in a)e=[].concat(Object(k.a)(e),[a[n]]);return e},w=i(138),B=i(422),L=i(403),F=i(248),I=i.n(F),C=i.p+"static/media/Engineer_icon.0eb84776.svg",D=function(e){var n=e.engLevel,i=e.handleEngLevelChange;return Object(t.jsxs)(B.a,{value:n,exclusive:!0,onChange:i,children:[Object(t.jsx)(N.a,{value:0,children:Object(t.jsx)(L.a,{title:"No Engineering",arrow:!0,children:Object(t.jsx)("div",{className:"engButton",children:Object(t.jsx)(I.a,{})})})}),Object(t.jsx)(N.a,{value:1,children:Object(t.jsx)(L.a,{title:"Simple Engineering",arrow:!0,children:Object(t.jsx)("div",{className:"engButton",children:Object(t.jsx)("img",{src:C,alt:"engineeringIcon"})})})}),Object(t.jsx)(N.a,{value:2,children:Object(t.jsx)(L.a,{title:"Moderate Engineering",arrow:!0,children:Object(t.jsxs)("div",{className:"engButton",children:[Object(t.jsx)("img",{src:C,alt:"engineeringIcon"}),Object(t.jsx)("img",{src:C,alt:"engineeringIcon"})]})})}),Object(t.jsx)(N.a,{value:3,children:Object(t.jsx)(L.a,{title:"End-Game/Extreme Engineering",arrow:!0,children:Object(t.jsxs)("div",{className:"engButton",children:[Object(t.jsx)("img",{src:C,alt:"engineeringIcon"}),Object(t.jsx)("img",{src:C,alt:"engineeringIcon"}),Object(t.jsx)("img",{src:C,alt:"engineeringIcon"})]})})})]})},z=i(418),E=function(e){var n=e.id,i=e.label,a=e.value,r=e.onChange,l=e.isMultiline,s=e.disabled;return Object(t.jsx)(z.a,{variant:"outlined",id:n,label:i,multiline:l,rowsMax:10,value:a,onChange:r,disabled:s})},_=i(420),P=function(e,n){try{return e.sort(V(n))}catch(i){return e}},V=function(e){return function(n,i){return n[e]>i[e]?1:n[e]<i[e]?-1:0}},G=function(e,n){return null===n?null:e.find((function(e){return e.shipId===n}))},A=function(e){var n=e.shipType,i=e.handleShipChange,a=O;return Object(t.jsx)(_.a,{id:"shipType",options:P(a,"name"),autoHighlight:!0,getOptionLabel:function(e){return e.name},renderOption:function(e){return Object(t.jsx)(t.Fragment,{children:Object(t.jsx)("span",{children:e.name})})},renderInput:function(e){return Object(t.jsx)(z.a,Object(o.a)(Object(o.a)({},e),{},{label:"Ship Type",variant:"outlined",inputProps:Object(o.a)(Object(o.a)({},e.inputProps),{},{autocomplete:"new-password"})}))},value:G(a,n),onChange:i})},R=i(408),q=i(419),T=function(e){var n=e.label,i=e.name,a=e.checked,r=e.onChange,l=e.disabled;return Object(t.jsx)(R.a,{label:n,control:Object(t.jsx)(q.a,{name:i,checked:a,onChange:r,disabled:l})})},M=i(110),Q=i(46),U={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddBuild"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"build"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ShipBuildsv2InsertInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insertOneShipBuildsv2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"build"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shipId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"specializations"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"engLevel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasGuardian"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPowerplay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isBeginner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVariant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"related"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jsonBuild"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:304,source:{body:"mutation AddBuild($build: ShipBuildsv2InsertInput!) {\n  insertOneShipBuildsv2(data: $build) {\n    _id\n    shipId\n    specializations\n    title\n    buildLink\n    engLevel\n    hasGuardian\n    hasPowerplay\n    isBeginner\n    author\n    isVariant\n    variants\n    related\n    description\n    jsonBuild\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},$={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReplaceBuild"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"build"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ShipBuildsv2InsertInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"replaceOneShipBuildsv2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_id"},value:{kind:"Variable",name:{kind:"Name",value:"buildID"}}}]}},{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"build"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shipId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"specializations"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"engLevel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasGuardian"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPowerplay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isBeginner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVariant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"related"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jsonBuild"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:335,source:{body:"mutation ReplaceBuild($build: ShipBuildsv2InsertInput!) {\n  replaceOneShipBuildsv2(query: { _id: $buildID }, data: $build) {\n    _id\n    shipId\n    specializations\n    title\n    buildLink\n    engLevel\n    hasGuardian\n    hasPowerplay\n    isBeginner\n    author\n    isVariant\n    variants\n    related\n    description\n    jsonBuild\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},H={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateRelatedOneShipBuildsv2"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"build"}},type:{kind:"NamedType",name:{kind:"Name",value:"ShipBuildsv2QueryInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ShipBuildsv2UpdateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateOneShipBuildsv2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"build"}}},{kind:"Argument",name:{kind:"Name",value:"set"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"related"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:204,source:{body:"mutation UpdateRelatedOneShipBuildsv2(\n  $build: ShipBuildsv2QueryInput\n  $input: ShipBuildsv2UpdateInput!\n) {\n  updateOneShipBuildsv2(query: $build, set: $input) {\n    _id\n    related\n    variants\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},W=function(){return{addBuild:J(),replaceBuild:K(),updateVariants:X(),updateRelated:Y()}},J=function(){var e=Object(Q.useMutation)(U),n=Object(b.a)(e,1)[0];return function(){var e=Object(d.a)(c.a.mark((function e(i){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({variables:{build:Object(o.a)({},i)}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},Y=function(){var e=Object(Q.useMutation)(H),n=Object(b.a)(e,1)[0];return function(){var e=Object(d.a)(c.a.mark((function e(i,a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({variables:{build:{_id:i},input:{related:a}}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}()},X=function(){var e=Object(Q.useMutation)(H),n=Object(b.a)(e,1)[0];return function(){var e=Object(d.a)(c.a.mark((function e(i,a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({variables:{build:{_id:i},input:{variants:a}}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}()},K=function(){var e=Object(Q.useMutation)($),n=Object(b.a)(e,1)[0];return function(){var e=Object(d.a)(c.a.mark((function e(i){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({variables:{buildID:i._id,build:Object(o.a)({},i)}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AllShipBuildsv2s"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shipBuildsv2s"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shipId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"specializations"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"engLevel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasGuardian"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPowerplay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isBeginner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVariant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"related"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jsonBuild"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:253,source:{body:"query AllShipBuildsv2s {\n  shipBuildsv2s {\n    _id\n    shipId\n    specializations\n    title\n    buildLink\n    engLevel\n    hasGuardian\n    hasPowerplay\n    isBeginner\n    author\n    isVariant\n    variants\n    related\n    description\n    jsonBuild\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ee=function(){var e=ne(),n=e.shipBuilds,i=e.loading,a=W(),t=a.addBuild,r=a.replaceBuild;return{loading:i,shipBuilds:n,addBuild:t,addRelated:ie(),addVariant:ae(),replaceBuild:r}},ne=function(){var e,n=Object(Q.useQuery)(Z),i=n.data,a=n.loading,t=n.error;if(t)throw new Error("Failed to fetch ship builds: ".concat(t.message));return{shipBuilds:null!==(e=null===i||void 0===i?void 0:i.shipBuildsv2s)&&void 0!==e?e:[],loading:a}},ie=function(){var e=W(),n=e.addBuild,i=e.updateRelated;return function(){var e=Object(d.a)(c.a.mark((function e(a,t,r){var l,s,d,u,o,b,j,v;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l=t.find((function(e){return e._id===a})))){e.next=36;break}return s=l.related,(d=r).related=l.related,d.related=[].concat(Object(k.a)(d.related),[a]),e.next=8,n(d);case 8:if(u=e.sent.data,console.log(u),!u){e.next=33;break}if(!(o=u.insertOneShipBuildsv2._id)){e.next=31;break}return e.next=15,i(a,[].concat(Object(k.a)(s),[o]));case 15:b=Object(M.a)(s),e.prev=16,v=c.a.mark((function e(){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=j.value,!(a=t.find((function(e){return e._id===n})))){e.next=6;break}return r=[].concat(Object(k.a)(a.related),[o]),e.next=6,i(a._id,r);case 6:case"end":return e.stop()}}),e)})),b.s();case 19:if((j=b.n()).done){e.next=23;break}return e.delegateYield(v(),"t0",21);case 21:e.next=19;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(16),b.e(e.t1);case 28:return e.prev=28,b.f(),e.finish(28);case 31:e.next=34;break;case 33:throw new Error("Reference build and related builds not updated");case 34:e.next=37;break;case 36:throw new Error("Reference build cannot be found");case 37:case"end":return e.stop()}}),e,null,[[16,25,28,31]])})));return function(n,i,a){return e.apply(this,arguments)}}()},ae=function(){var e=W(),n=e.addBuild,i=e.updateVariants,a=e.updateRelated;return function(){var e=Object(d.a)(c.a.mark((function e(t,r,l){var s,d,u,o,b,j,v,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=r.find((function(e){return e._id===t})))){e.next=36;break}return d=s.variants,(u=l).isVariant=!0,u.related=d,e.next=8,n(u);case 8:if(!(o=e.sent.data)){e.next=33;break}if(!(b=o.insertOneShipBuildsv2._id)){e.next=31;break}return console.log(b),e.next=15,i(t,[].concat(Object(k.a)(d),[b]));case 15:j=Object(M.a)(d),e.prev=16,p=c.a.mark((function e(){var n,i,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=v.value,console.log(n),!(i=r.find((function(e){return e._id===n})))){e.next=7;break}return t=[].concat(Object(k.a)(i.related),[b]),e.next=7,a(i._id,t);case 7:case"end":return e.stop()}}),e)})),j.s();case 19:if((v=j.n()).done){e.next=23;break}return e.delegateYield(p(),"t0",21);case 21:e.next=19;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(16),j.e(e.t1);case 28:return e.prev=28,j.f(),e.finish(28);case 31:e.next=34;break;case 33:throw new Error("Parent and related builds were not updated");case 34:e.next=37;break;case 36:throw new Error("Parent cannot be found");case 37:case"end":return e.stop()}}),e,null,[[16,25,28,31]])})));return function(n,i,a){return e.apply(this,arguments)}}()},te=function(){return new URLSearchParams(Object(r.g)().search)},re=Object(j.a)({root:{textAlign:"center",display:"grid",gridTemplate:"auto / 1fr",rowGap:"10px",width:"90%",margin:"auto"}}),le=function(){var e=re(),n=Object(w.b)().enqueueSnackbar,i=Object(m.useState)(""),a=Object(b.a)(i,2),r=a[0],s=a[1],j=Object(m.useState)(se),g=Object(b.a)(j,2),k=g[0],N=g[1],y=Object(m.useState)([]),B=Object(b.a)(y,2),L=B[0],F=B[1],I=ee(),C=I.loading,z=I.shipBuilds,_=I.addBuild,P=I.addRelated,V=I.addVariant,G=te();Object(m.useEffect)((function(){N((function(e){return Object(o.a)(Object(o.a)({},e),{},{specializations:L})}))}),[L]);var R=function(e){var n=e.target.value;switch(e.target.id){case"title":N((function(e){return Object(o.a)(Object(o.a)({},e),{},{title:n})}));break;case"description":N((function(e){return Object(o.a)(Object(o.a)({},e),{},{description:n})}));break;case"buildLink":N((function(e){return Object(o.a)(Object(o.a)({},e),{},{buildLink:n})}));break;case"author":N((function(e){return Object(o.a)(Object(o.a)({},e),{},{author:n})}));break;case"variants":var i=n.split(",").map((function(e){return e.trim()}));N((function(e){return Object(o.a)(Object(o.a)({},e),{},{variants:i})}));break;case"related":var a=n.split(",").map((function(e){return e.trim()}));N((function(e){return Object(o.a)(Object(o.a)({},e),{},{related:a})}))}},q=function(e){N(Object(o.a)(Object(o.a)({},k),{},Object(u.a)({},e.target.name,e.target.checked)))},M=function(){var e=Object(d.a)(c.a.mark((function e(){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=G.get("type"),console.log(i),a=G.get("refID"),e.prev=3,e.t0=i,e.next="variant"===e.t0?7:"related"===e.t0?14:21;break;case 7:if(!a){e.next=12;break}return e.next=10,V(a,z,k);case 10:e.next=13;break;case 12:throw new Error("Build reference ID missing from URL");case 13:return e.abrupt("break",24);case 14:if(!a){e.next=19;break}return e.next=17,P(a,z,k);case 17:e.next=20;break;case 19:throw new Error("Build reference ID missing from URL");case 20:return e.abrupt("break",24);case 21:return e.next=23,_(k);case 23:return e.abrupt("break",24);case 24:n("Build Successfully Submitted",{variant:"success"}),N(Object(o.a)(Object(o.a)({},se),{},{_id:new x.a})),F([]),s(""),e.next=34;break;case 30:e.prev=30,e.t1=e.catch(3),n("Submit Failed: ".concat(e.t1.message),{variant:"error"}),console.error(e.t1);case 34:case"end":return e.stop()}}),e,null,[[3,30]])})));return function(){return e.apply(this,arguments)}}(),Q=[{id:"json",label:"Exported JSON",isMultiline:!0,value:r,onChange:function(e){s(e.target.value);var n=function(e){var n,i,a,t=JSON.parse(e),r=t.name,l=t.ship,s=null!==(n=t.references[0].url)&&void 0!==n?n:"",c=!1,d=!1,u=!1,o=t.components,b=o.standard,j=o.hardpoints,v=o.internal,p=null!==(i=b.powerPlant.name)&&void 0!==i?i:"",h=null!==(a=b.powerDistributor.name)&&void 0!==a?a:"",m=j.find((function(e){return null===e||void 0===e?void 0:e.group.toLowerCase().startsWith("guardian")})),f=v.find((function(e){return null===e||void 0===e?void 0:e.group.toLowerCase().startsWith("guardian")}));!1===c&&(p.toLowerCase().startsWith("guardian")||h.toLowerCase().startsWith("guardian")||m||f)&&(c=!0);var O=v.find((function(e){return null===e||void 0===e?void 0:e.group.toLowerCase().startsWith("prismatic")}));!1===d&&O&&(d=!0),["disruptor","imperial hammer","pack-hound","mining lance","enforcer","cytoscrambler","retributor","advanced plasma accelerator","pacifier","rocket propelled fsd disruptor"].forEach((function(e){if(!1===d){var n=j.find((function(n){var i;return(null===n||void 0===n||null===(i=n.name)||void 0===i?void 0:i.toLowerCase())===e.toLowerCase()}));d=!!n}}));var g=j.filter((function(e){return null===e||void 0===e?void 0:e.blueprint})),x=v.filter((function(e){return null===e||void 0===e?void 0:e.blueprint})),k=b.powerPlant.blueprint,N=b.thrusters.blueprint,S=b.frameShiftDrive.blueprint,y=b.lifeSupport.blueprint,w=b.powerDistributor.blueprint,B=b.sensors.blueprint;return!1===u&&(g.length>0||x.length>0||k||N||S||y||w||B)&&(u=!0),{buildName:r,shipName:l,hasGuardian:c,hasPowerplay:d,engineering:u,url:s}}(e.target.value),i=n.buildName,a=n.shipName,t=n.hasGuardian,r=n.hasPowerplay,l=n.engineering,c=n.url,d=l?1:0,u=function(e){return O.find((function(n){return n.name.toLowerCase()===e.toLowerCase()}))}(a),o={_id:k._id,title:i,hasGuardian:t,hasPowerplay:r,buildLink:c,shipId:u.shipId,author:"",specializations:[],engLevel:d,isBeginner:!1,description:"",isVariant:!1,variants:[],related:[],jsonBuild:e.target.value};N(o)}},{id:"title",label:"Title",isMultiline:!1,value:k.title,onChange:R,disabled:!0},{id:"description",label:"More Information - Accepts markdown",isMultiline:!0,value:k.description,onChange:R},{id:"buildLink",label:"Build Link - Full",isMultiline:!1,value:k.buildLink,onChange:R,disabled:!0},{id:"author",label:"Author",isMultiline:!1,value:k.author,onChange:R}],U=[{label:"Guardian",name:"hasGuardian",checked:k.hasGuardian,disabled:!0},{label:"PowerPlay",name:"hasPowerplay",checked:k.hasPowerplay,disabled:!0},{label:"Beginner",name:"isBeginner",checked:k.isBeginner}];return C?Object(t.jsx)(l.a,{}):Object(t.jsxs)("div",{className:e.root,children:[Object(t.jsx)(v.a,{to:"/information/builds",component:f.b,color:"secondary",variant:"outlined",children:"Return to builds"}),Object(t.jsx)(p.a,{children:"Save your build in Coriolis and choose Export. Paste the exported JSON into the Exported JSON field."}),Object(t.jsx)(p.a,{children:"Verify/enter remaining information and click Submit Build at the bottom."}),Q.map((function(e){return Object(t.jsx)(E,Object(o.a)({},e),e.id)})),Object(t.jsx)(A,{shipType:k.shipId,handleShipChange:function(e,n){var i=n.shipId;N((function(e){return Object(o.a)(Object(o.a)({},e),{},{shipId:i})}))}}),Object(t.jsx)(S,{selectedSpecialties:k.specializations,setSpecialties:F}),Object(t.jsx)(D,{engLevel:k.engLevel,handleEngLevelChange:function(e,n){N(Object(o.a)(Object(o.a)({},k),{},{engLevel:n}))}}),Object(t.jsx)(h.a,{row:!0,children:U.map((function(e){return Object(t.jsx)(T,Object(o.a)(Object(o.a)({},e),{},{onChange:q}),e.name)}))}),Object(t.jsx)(v.a,{onClick:M,variant:"outlined",children:"Submit Build"})]})},se={_id:new x.a,shipId:"adder",title:"",specializations:[],buildLink:"",engLevel:0,hasGuardian:!1,hasPowerplay:!1,isBeginner:!1,author:"",isVariant:!1,variants:[],related:[],description:"",jsonBuild:""},ce=i(118),de=i(413),ue=i(60),oe=i(249),be=(i(283),i(410)),je=i(411),ve=i(412),pe=i(414),he=function(e){var n=[];if(e.engLevel>3||e.engLevel<1)return Object(t.jsx)("div",{className:"engineering",children:Object(t.jsx)("p",{children:"Engineering Level: None"})});for(var i=1;i<=e.engLevel;i++)n=[].concat(Object(k.a)(n),[Object(t.jsx)("img",{src:C,alt:"Engineering Icon"},i)]);return Object(t.jsx)("div",{className:"engineering",children:Object(t.jsxs)("p",{children:[Object(t.jsx)("span",{children:"Engineering Level:"})," ",n.map((function(e){return e}))]})})},me=i(421),fe=function(e){var n=e.build;return Object(t.jsxs)("div",{className:"chips",children:[n.specializations.map((function(e){return Object(t.jsx)(me.a,{label:e},e)})),n.hasGuardian&&Object(t.jsx)(me.a,{label:"Guardian"},"guardian"),n.hasPowerplay&&Object(t.jsx)(me.a,{label:"PowerPlay"},"powerplay"),n.isBeginner&&Object(t.jsx)(me.a,{label:"Beginner"},"beginner")]})},Oe=function(e){var n=e.shipBuild,i=function(e){if(e)return O.find((function(n){return n.shipId===e}))}(null===n||void 0===n?void 0:n.shipId);return n&&i?Object(t.jsxs)(be.a,{variant:"outlined",className:"card",children:[i&&Object(t.jsx)(je.a,{className:"shipImg",image:null===i||void 0===i?void 0:i.shipImg,title:null===i||void 0===i?void 0:i.name}),Object(t.jsxs)(ve.a,{className:"cardContent",children:[Object(t.jsx)(p.a,{children:n.title}),Object(t.jsx)(de.a,{}),Object(t.jsxs)("div",{className:"shipName",children:[Object(t.jsxs)(p.a,{children:[null===i||void 0===i?void 0:i.name," "]}),Object(t.jsx)("div",{className:"spacer"}),i&&Object(t.jsx)(p.a,{children:oe.ShipSize[i.size]})]}),(null===i||void 0===i?void 0:i.requires)&&Object(t.jsxs)(p.a,{children:["Requirement: ",i.requires]}),Object(t.jsx)(fe,{build:n}),Object(t.jsx)(de.a,{}),Object(t.jsx)(he,{engLevel:n.engLevel}),Object(t.jsx)(de.a,{}),Object(t.jsxs)(p.a,{children:["Author: ",n.author]}),n.variants.length>0?Object(t.jsx)(p.a,{children:"Has Variants"}):null,n.related.length>0?Object(t.jsx)(p.a,{children:"Has Related Builds"}):null,Object(t.jsx)("div",{className:"spacer"}),Object(t.jsxs)(pe.a,{className:"cardActions",children:[Object(t.jsx)(v.a,{variant:"contained",color:"secondary",href:n.buildLink,target:"_blank",children:"View Build"})," ",Object(t.jsx)(v.a,{to:"/information/builds/detail/".concat(n._id),component:f.b,color:"primary",variant:"contained",target:"_blank",children:"View Details"})]})]})]}):null},ge=Object(j.a)((function(e){return{paper:{width:"90%",margin:"auto",marginBottom:5,display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"center"},textCenter:{textAlign:"center"}}})),xe=function(e){var n=e.title,i=e.buildIDs,a=ge(),r=ee(),s=r.loading,c=r.shipBuilds;return Object(t.jsxs)("div",{id:"variants",className:a.textCenter,children:[Object(t.jsx)(p.a,{variant:"h4",children:n}),s?Object(t.jsx)(l.a,{}):Object(t.jsx)("div",{className:a.paper,children:i.map((function(e){var n=c.find((function(n){return n._id===e}));return Object(t.jsx)(Oe,{shipBuild:n},e)}))})]})},ke=i(284),Ne=i.n(ke),Se=i(356),ye=i.n(Se),we=Object(j.a)((function(e){return{paper:{width:"80%",margin:"auto",padding:10,marginBottom:5},img:Object(u.a)({width:300},e.breakpoints.down("md"),{display:"none"}),flexDown:{display:"flex",flexDirection:"column"},flexAcross:Object(u.a)({display:"flex",flexDirection:"row"},e.breakpoints.down("md"),{flexDirection:"column",flexWrap:"wrap"}),spacer:{flexGrow:1},gridDown:{display:"grid",gridTemplate:"auto / 1fr",gap:"5px"},margin:{margin:10},textCenter:{textAlign:"center"}}})),Be=function(){var e=ee(),n=e.loading,i=e.shipBuilds,a=Object(r.h)().id,s=we(),c=Object(m.useState)(),d=Object(b.a)(c,2),u=d[0],o=d[1],j=Object(m.useMemo)((function(){if(!n){var e=i.find((function(e){return e._id&&e._id===a}));return e||null}}),[a,n,i]);return Object(m.useEffect)((function(){if(j){var e=g(j.shipId);o(e)}}),[j]),Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(p.a,{variant:"h3",children:"Build Detail"}),n?Object(t.jsx)(l.a,{}):null===j?Object(t.jsx)(ue.c,{}):Object(t.jsxs)(t.Fragment,{children:[Object(t.jsxs)(ce.a,{className:"".concat(s.paper," ").concat(s.flexAcross),children:[u&&Object(t.jsxs)("div",{className:"".concat(s.flexDown," ").concat(s.margin),children:[Object(t.jsx)("img",{src:u.shipImg,alt:u.name,className:s.img}),Object(t.jsxs)("div",{className:s.flexAcross,children:[Object(t.jsx)(p.a,{children:u.name}),Object(t.jsx)("span",{className:s.spacer}),Object(t.jsx)(p.a,{children:oe.ShipSize[u.size]})]}),u.requires&&Object(t.jsxs)(p.a,{children:["Requires: ",u.requires]}),Object(t.jsx)(v.a,{variant:"contained",color:"primary",href:u.shipReview,target:"_blank",children:"Pilot Review"})]}),Object(t.jsx)(de.a,{orientation:"vertical",flexItem:!0}),Object(t.jsxs)("div",{className:"".concat(s.flexDown," ").concat(s.spacer," ").concat(s.margin),children:[Object(t.jsx)(p.a,{variant:"h5",children:null===j||void 0===j?void 0:j.title}),Object(t.jsxs)(p.a,{children:["Author: ",null===j||void 0===j?void 0:j.author]}),Object(t.jsx)(fe,{build:j}),(null===j||void 0===j?void 0:j.description)&&Object(t.jsx)(Ne.a,{plugins:[ye.a],renderers:{paragraph:p.a},children:j.description})]}),Object(t.jsx)("div",{className:"".concat(s.flexDown," ").concat(s.spacer," ").concat(s.textCenter),children:Object(t.jsxs)("div",{className:s.gridDown,children:[Object(t.jsx)(v.a,{variant:"contained",color:"primary",href:j.buildLink,target:"_blank",children:"Open Coriolis"}),Object(t.jsx)(v.a,{variant:"contained",color:"secondary",to:"/information/builds/add?type=variant&refID=".concat(j._id),component:f.b,children:"Add Variant"}),Object(t.jsx)(v.a,{variant:"contained",color:"secondary",to:"/information/builds/add?type=related&refID=".concat(j._id),component:f.b,children:"Add Related"})]})})]}),j&&j.variants.length>0?Object(t.jsx)(xe,{title:"Build Variants",buildIDs:j.variants}):null,j&&j.related.length>0?Object(t.jsx)(xe,{title:"Related Builds",buildIDs:j.related}):null]})]})},Le=i(199),Fe=i(415),Ie=(i(384),function(e){var n=Object(m.useState)(),i=Object(b.a)(n,2),a=i[0],r=i[1],s=e.buildQuery,c=ee(),d=c.loading,u=c.shipBuilds,o=Object(m.useCallback)((function(){if(!d){console.log(u);var e=function(e,n){if(e&&n){var i=e.filter((function(e){return!1===e.isVariant}));if(null!==n.ship&&(i=i.filter((function(e){return e.shipId===n.ship}))),null!==n.size&&(i=i.filter((function(e){var i=g(e.shipId);return(null===i||void 0===i?void 0:i.size)===n.size?e:void 0}))),null!==n.engLevel&&(i=i.filter((function(e){return e.engLevel===n.engLevel}))),n.specialties.length>0){console.log(n.specialties);var a,t=[],r=Object(M.a)(n.specialties);try{var l=function(){var e=a.value;t=t.length>0?t.filter((function(n){return n.specializations.includes(e)})):i.filter((function(n){return n.specializations.includes(e)}))};for(r.s();!(a=r.n()).done;)l()}catch(u){r.e(u)}finally{r.f()}i=t}if(null!==n.other.guardian){var s=1===n.other.guardian;i=i.filter((function(e){return e.hasGuardian===s}))}if(null!==n.other.powerplay){var c=1===n.other.powerplay;i=i.filter((function(e){return e.hasPowerplay===c}))}if(null!==n.other.beginner){var d=1===n.other.beginner;i=i.filter((function(e){return e.isBeginner===d}))}return i}}(u,s),n=P(e,"shipId");r(n)}}),[d,u,s]);return Object(m.useEffect)((function(){d||o()}),[d,o]),Object(t.jsx)("div",{className:"builds",children:d?Object(t.jsx)(l.a,{}):null===a||void 0===a?void 0:a.map((function(e){return Object(t.jsx)(Oe,{shipBuild:e},e._id)}))})}),Ce=(i(385),function(e){var n=e.shipType,i=e.setShipType,a=e.shipSize,r=e.setShipSize;return Object(t.jsxs)("div",{className:"shipQuery",children:[Object(t.jsx)("h3",{className:"queryHeader",children:"Ship Type and Size"}),Object(t.jsxs)("div",{className:"shipQuerySection",children:[Object(t.jsx)("div",{className:"shipTypeQuery",children:Object(t.jsx)(A,{shipType:n,handleShipChange:function(e,n){var a=null===n||void 0===n?void 0:n.shipId;i(null!==a&&void 0!==a?a:null),r(null)}})}),Object(t.jsx)("div",{className:"shipSizeQuery",children:Object(t.jsx)(L.a,{title:"What's the size of the ship you're looking for?",arrow:!0,children:Object(t.jsxs)(B.a,{value:a,exclusive:!0,onChange:function(e,n){i(null),r(n)},children:[Object(t.jsx)(N.a,{value:1,children:"Small"}),Object(t.jsx)(N.a,{value:2,children:"Medium"}),Object(t.jsx)(N.a,{value:3,children:"Large"})]})})})]})]})}),De=function(e){var n=e.engLevel,i=e.setEngLevel;return Object(t.jsxs)("div",{className:"engineeringQuery",children:[Object(t.jsx)("h3",{className:"queryHeader",children:"Ship Engineering Level"}),Object(t.jsx)(p.a,{children:"Select Engineering level ranging from None to Max Engineering."}),Object(t.jsx)(D,{engLevel:n,handleEngLevelChange:function(e,n){i(n)}})]})},ze=i(386),Ee=i.n(ze),_e=function(e){var n=e.other,i=e.setOther;return Object(t.jsxs)("div",{className:"otherQuery",children:[Object(t.jsx)("h3",{className:"queryHeader",children:"Other Filters"}),Object(t.jsxs)("div",{className:"otherButtons",children:[Object(t.jsx)(L.a,{title:"Should the build have Guardian components?",arrow:!0,children:Object(t.jsxs)("div",{className:"guardian",children:[Object(t.jsx)("label",{children:"Guardian"}),Object(t.jsxs)(B.a,{value:n.guardian,exclusive:!0,onChange:function(e,a){i(Object(o.a)(Object(o.a)({},n),{},{guardian:a}))},children:[Object(t.jsx)(N.a,{value:1,children:Object(t.jsx)(Ee.a,{})}),Object(t.jsx)(N.a,{value:0,children:Object(t.jsx)(I.a,{})})]})]})}),Object(t.jsx)(L.a,{title:"Does the build have Power Play modules?",arrow:!0,children:Object(t.jsxs)("div",{className:"powerplay",children:[Object(t.jsx)("label",{children:"Power Play"}),Object(t.jsxs)(B.a,{value:n.powerplay,exclusive:!0,onChange:function(e,a){i(Object(o.a)(Object(o.a)({},n),{},{powerplay:a}))},children:[Object(t.jsx)(N.a,{value:1,children:Object(t.jsx)(Ee.a,{})}),Object(t.jsx)(N.a,{value:0,children:Object(t.jsx)(I.a,{})})]})]})}),Object(t.jsx)(L.a,{title:"Is this build easy to achieve early-game?",children:Object(t.jsxs)("div",{className:"beginner",children:[Object(t.jsx)("label",{children:"Beginner"}),Object(t.jsxs)(B.a,{value:n.beginner,exclusive:!0,onChange:function(e,a){i(Object(o.a)(Object(o.a)({},n),{},{beginner:a}))},children:[Object(t.jsx)(N.a,{value:1,children:Object(t.jsx)(Ee.a,{})}),Object(t.jsx)(N.a,{value:0,children:Object(t.jsx)(I.a,{})})]})]})})]})]})},Pe=function(e){var n=Object(m.useState)(null),i=Object(b.a)(n,2),a=i[0],r=i[1],l=Object(m.useState)(null),s=Object(b.a)(l,2),c=s[0],d=s[1],u=Object(m.useState)(null),j=Object(b.a)(u,2),p=j[0],h=j[1],O=Object(m.useState)([]),g=Object(b.a)(O,2),x=g[0],k=g[1],N=Object(m.useState)({guardian:null,powerplay:null,beginner:null}),y=Object(b.a)(N,2),w=y[0],B=y[1],L=te();Object(m.useEffect)((function(){"true"===L.get("beginner")&&B(Object(o.a)(Object(o.a)({},w),{},{beginner:1}))}),[]),Object(m.useEffect)((function(){(0,e.queryUpdate)({ship:a,size:c,engLevel:p,specialties:x,other:w})}),[a,c,p,x,w]);return Object(t.jsxs)(ce.a,{className:"query",children:[Object(t.jsx)(S,{selectedSpecialties:x,setSpecialties:k}),Object(t.jsx)(Ce,{shipType:a,setShipType:r,shipSize:c,setShipSize:d}),Object(t.jsx)(De,{engLevel:p,setEngLevel:h}),Object(t.jsx)(_e,{other:w,setOther:B}),Object(t.jsxs)("div",{className:"reset",children:[Object(t.jsx)(v.a,{onClick:function(){r(null),d(null),h(null),k([]),B({guardian:null,powerplay:null,beginner:null})},color:"primary",variant:"outlined",className:"resetButton",children:"Reset Selections"}),Object(t.jsx)(v.a,{variant:"outlined",color:"secondary",component:f.b,to:"/information/builds/add",children:"Add Build"})]})]})},Ve=i(388),Ge=i.n(Ve),Ae=(i(387),function(e){var n=Object(m.useState)(),i=Object(b.a)(n,2),a=i[0],r=i[1],l=Object(m.useRef)(null),s=Object(Le.a)("(max-width:1000px)");return Object(t.jsxs)("section",{className:"selection",children:[Object(t.jsx)(p.a,{variant:"h3",children:"Ship Build Archive"}),Object(t.jsx)(Pe,{queryUpdate:function(e){r(e)}}),Object(t.jsx)("div",{ref:l,children:Object(t.jsx)(Ie,{buildQuery:a})}),s&&Object(t.jsx)("div",{className:"fab",children:Object(t.jsx)(Fe.a,{color:"primary",className:"fab",onClick:function(){l.current&&l.current.scrollIntoView({behavior:"smooth"})},children:Object(t.jsx)(Ge.a,{})})})]})}),Re=function(){var e=Object(r.i)().path;return ee().loading?Object(t.jsx)(l.a,{}):Object(t.jsxs)(r.d,{children:[Object(t.jsx)(r.b,{path:"".concat(e,"/detail/:id"),children:Object(t.jsx)(Be,{})}),Object(t.jsx)(r.b,{path:e,exact:!0,children:Object(t.jsx)(Ae,{})}),Object(t.jsx)(r.b,{path:"".concat(e,"/add"),children:Object(t.jsx)(le,{})})]})}}}]);
//# sourceMappingURL=4.b5b89b28.chunk.js.map