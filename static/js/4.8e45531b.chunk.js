(this["webpackJsonpusc-website"]=this["webpackJsonpusc-website"]||[]).push([[4],{245:function(e,n,i){"use strict";var a=i(246);i.o(a,"ShipSize")&&i.d(n,"ShipSize",(function(){return a.ShipSize}));var t=i(247);i.o(t,"ShipSize")&&i.d(n,"ShipSize",(function(){return t.ShipSize}));var r=i(248);i.o(r,"ShipSize")&&i.d(n,"ShipSize",(function(){return r.ShipSize}));var l=i(249);i.d(n,"ShipSize",(function(){return l.a}));i(250)},246:function(e,n){},247:function(e,n){},248:function(e,n){},249:function(e,n,i){"use strict";var a;i.d(n,"a",(function(){return a})),function(e){e[e.S=1]="S",e[e.M=2]="M",e[e.L=3]="L"}(a||(a={}))},250:function(e,n){},277:function(e,n,i){},376:function(e,n,i){},377:function(e,n,i){},379:function(e,n,i){},409:function(e,n,i){"use strict";i.r(n),i.d(n,"default",(function(){return Ge}));var a,t=i(1),r=i(17),l=i(41),s=i(6),c=i.n(s),d=i(10),u=i(32),o=i(16),b=i(28),v=i(117),j=i(196),p=i(401),m=i(0),h=i(20),f=i(124),O=function(e){return f.find((function(n){return n.shipId===e}))},g=i(274),x=i(106),k=i(40),N=i(394);!function(e){e.exp="Exploration",e.jump="Jump Ship",e.hge="HGE Farming",e.cargo="Cargo",e.mining="Miner",e.pve="Combat - PvE",e.pvp="Combat - PvP",e.ax="Combat - Anti-Xeno",e.racing="Racing",e.multi="Multi-Purpose"}(a||(a={}));var S=function(e){var n=e.selectedSpecialties,i=e.setSpecialties;return Object(t.jsxs)("div",{className:"specializationQuery",children:[Object(t.jsx)("h3",{className:"queryHeader",children:"Ship Specializations"}),Object(t.jsx)(k.a,{children:"Select specializations that the ship should fulfill."}),Object(t.jsx)("div",{className:"specialButtons",children:w().map((function(e){return Object(t.jsx)(N.a,{value:e,selected:n.includes(e),onChange:function(){return function(e){var a=[];a=n.includes(e)?n.filter((function(n){return n!==e})):[].concat(Object(x.a)(n),[e]),i(a)}(e)},children:e},e)}))})]})},w=function(){var e=[];for(var n in a)e=[].concat(Object(x.a)(e),[a[n]]);return e},y=i(139),B=i(414),L=i(395),F=i(244),I=i.n(F),C=i.p+"static/media/Engineer_icon.42fbabbd.svg",D=function(e){var n=e.engLevel,i=e.handleEngLevelChange;return Object(t.jsxs)(B.a,{value:n,exclusive:!0,onChange:i,children:[Object(t.jsx)(N.a,{value:0,children:Object(t.jsx)(L.a,{title:"No Engineering",arrow:!0,children:Object(t.jsx)("div",{className:"engButton",children:Object(t.jsx)(I.a,{})})})}),Object(t.jsx)(N.a,{value:1,children:Object(t.jsx)(L.a,{title:"Simple Engineering",arrow:!0,children:Object(t.jsx)("div",{className:"engButton",children:Object(t.jsx)("img",{src:C,alt:"engineeringIcon"})})})}),Object(t.jsx)(N.a,{value:2,children:Object(t.jsx)(L.a,{title:"Moderate Engineering",arrow:!0,children:Object(t.jsxs)("div",{className:"engButton",children:[Object(t.jsx)("img",{src:C,alt:"engineeringIcon"}),Object(t.jsx)("img",{src:C,alt:"engineeringIcon"})]})})}),Object(t.jsx)(N.a,{value:3,children:Object(t.jsx)(L.a,{title:"End-Game/Extreme Engineering",arrow:!0,children:Object(t.jsxs)("div",{className:"engButton",children:[Object(t.jsx)("img",{src:C,alt:"engineeringIcon"}),Object(t.jsx)("img",{src:C,alt:"engineeringIcon"}),Object(t.jsx)("img",{src:C,alt:"engineeringIcon"})]})})})]})},z=i(410),_=function(e){var n=e.id,i=e.label,a=e.value,r=e.onChange,l=e.isMultiline,s=e.disabled;return Object(t.jsx)(z.a,{variant:"outlined",id:n,label:i,multiline:l,rowsMax:10,value:a,onChange:r,disabled:s})},E=i(412),P=i(67),V=function(e,n){return null===n?null:e.find((function(e){return e.shipId===n}))},G=function(e){var n=e.shipType,i=e.handleShipChange,a=f;return Object(t.jsx)(E.a,{id:"shipType",options:Object(P.a)(a,"name"),autoHighlight:!0,getOptionLabel:function(e){return e.name},renderOption:function(e){return Object(t.jsx)(t.Fragment,{children:Object(t.jsx)("span",{children:e.name})})},renderInput:function(e){return Object(t.jsx)(z.a,Object(o.a)(Object(o.a)({},e),{},{label:"Ship Type",variant:"outlined",inputProps:Object(o.a)(Object(o.a)({},e.inputProps),{},{autocomplete:"new-password"})}))},value:V(a,n),onChange:i})},A=i(400),R=i(411),q=function(e){var n=e.label,i=e.name,a=e.checked,r=e.onChange,l=e.disabled;return Object(t.jsx)(A.a,{label:n,control:Object(t.jsx)(R.a,{name:i,checked:a,onChange:r,disabled:l})})},T=i(110),M=i(47),Q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddBuild"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"build"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ShipBuildsv2InsertInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insertOneShipBuildsv2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"build"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shipId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"specializations"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"engLevel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasGuardian"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPowerplay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isBeginner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVariant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"related"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jsonBuild"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:304,source:{body:"mutation AddBuild($build: ShipBuildsv2InsertInput!) {\n  insertOneShipBuildsv2(data: $build) {\n    _id\n    shipId\n    specializations\n    title\n    buildLink\n    engLevel\n    hasGuardian\n    hasPowerplay\n    isBeginner\n    author\n    isVariant\n    variants\n    related\n    description\n    jsonBuild\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},U={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReplaceBuild"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"build"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ShipBuildsv2InsertInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"replaceOneShipBuildsv2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_id"},value:{kind:"Variable",name:{kind:"Name",value:"buildID"}}}]}},{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"build"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shipId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"specializations"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"engLevel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasGuardian"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPowerplay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isBeginner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVariant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"related"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jsonBuild"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:335,source:{body:"mutation ReplaceBuild($build: ShipBuildsv2InsertInput!) {\n  replaceOneShipBuildsv2(query: { _id: $buildID }, data: $build) {\n    _id\n    shipId\n    specializations\n    title\n    buildLink\n    engLevel\n    hasGuardian\n    hasPowerplay\n    isBeginner\n    author\n    isVariant\n    variants\n    related\n    description\n    jsonBuild\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},$={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateRelatedOneShipBuildsv2"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"build"}},type:{kind:"NamedType",name:{kind:"Name",value:"ShipBuildsv2QueryInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ShipBuildsv2UpdateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateOneShipBuildsv2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"build"}}},{kind:"Argument",name:{kind:"Name",value:"set"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"related"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:204,source:{body:"mutation UpdateRelatedOneShipBuildsv2(\n  $build: ShipBuildsv2QueryInput\n  $input: ShipBuildsv2UpdateInput!\n) {\n  updateOneShipBuildsv2(query: $build, set: $input) {\n    _id\n    related\n    variants\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},H=function(){return{addBuild:W(),replaceBuild:X(),updateVariants:Y(),updateRelated:J()}},W=function(){var e=Object(M.useMutation)(Q),n=Object(b.a)(e,1)[0];return function(){var e=Object(d.a)(c.a.mark((function e(i){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({variables:{build:Object(o.a)({},i)}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},J=function(){var e=Object(M.useMutation)($),n=Object(b.a)(e,1)[0];return function(){var e=Object(d.a)(c.a.mark((function e(i,a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({variables:{build:{_id:i},input:{related:a}}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}()},Y=function(){var e=Object(M.useMutation)($),n=Object(b.a)(e,1)[0];return function(){var e=Object(d.a)(c.a.mark((function e(i,a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({variables:{build:{_id:i},input:{variants:a}}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}()},X=function(){var e=Object(M.useMutation)(U),n=Object(b.a)(e,1)[0];return function(){var e=Object(d.a)(c.a.mark((function e(i){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({variables:{buildID:i._id,build:Object(o.a)({},i)}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},K={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AllShipBuildsv2s"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shipBuildsv2s"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shipId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"specializations"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"engLevel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasGuardian"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPowerplay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isBeginner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVariant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"related"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jsonBuild"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:253,source:{body:"query AllShipBuildsv2s {\n  shipBuildsv2s {\n    _id\n    shipId\n    specializations\n    title\n    buildLink\n    engLevel\n    hasGuardian\n    hasPowerplay\n    isBeginner\n    author\n    isVariant\n    variants\n    related\n    description\n    jsonBuild\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Z=function(){var e=ee(),n=e.shipBuilds,i=e.loading,a=H(),t=a.addBuild,r=a.replaceBuild;return{loading:i,shipBuilds:n,addBuild:t,addRelated:ne(),addVariant:ie(),replaceBuild:r}},ee=function(){var e,n=Object(M.useQuery)(K),i=n.data,a=n.loading,t=n.error;if(t)throw new Error("Failed to fetch ship builds: ".concat(t.message));return{shipBuilds:null!==(e=null===i||void 0===i?void 0:i.shipBuildsv2s)&&void 0!==e?e:[],loading:a}},ne=function(){var e=H(),n=e.addBuild,i=e.updateRelated;return function(){var e=Object(d.a)(c.a.mark((function e(a,t,r){var l,s,d,u,o,b,v,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l=t.find((function(e){return e._id===a})))){e.next=36;break}return s=l.related,(d=r).related=l.related,d.related=[].concat(Object(x.a)(d.related),[a]),e.next=8,n(d);case 8:if(u=e.sent.data,console.log(u),!u){e.next=33;break}if(!(o=u.insertOneShipBuildsv2._id)){e.next=31;break}return e.next=15,i(a,[].concat(Object(x.a)(s),[o]));case 15:b=Object(T.a)(s),e.prev=16,j=c.a.mark((function e(){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=v.value,!(a=t.find((function(e){return e._id===n})))){e.next=6;break}return r=[].concat(Object(x.a)(a.related),[o]),e.next=6,i(a._id,r);case 6:case"end":return e.stop()}}),e)})),b.s();case 19:if((v=b.n()).done){e.next=23;break}return e.delegateYield(j(),"t0",21);case 21:e.next=19;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(16),b.e(e.t1);case 28:return e.prev=28,b.f(),e.finish(28);case 31:e.next=34;break;case 33:throw new Error("Reference build and related builds not updated");case 34:e.next=37;break;case 36:throw new Error("Reference build cannot be found");case 37:case"end":return e.stop()}}),e,null,[[16,25,28,31]])})));return function(n,i,a){return e.apply(this,arguments)}}()},ie=function(){var e=H(),n=e.addBuild,i=e.updateVariants,a=e.updateRelated;return function(){var e=Object(d.a)(c.a.mark((function e(t,r,l){var s,d,u,o,b,v,j,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=r.find((function(e){return e._id===t})))){e.next=36;break}return d=s.variants,(u=l).isVariant=!0,u.related=d,e.next=8,n(u);case 8:if(!(o=e.sent.data)){e.next=33;break}if(!(b=o.insertOneShipBuildsv2._id)){e.next=31;break}return console.log(b),e.next=15,i(t,[].concat(Object(x.a)(d),[b]));case 15:v=Object(T.a)(d),e.prev=16,p=c.a.mark((function e(){var n,i,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=j.value,console.log(n),!(i=r.find((function(e){return e._id===n})))){e.next=7;break}return t=[].concat(Object(x.a)(i.related),[b]),e.next=7,a(i._id,t);case 7:case"end":return e.stop()}}),e)})),v.s();case 19:if((j=v.n()).done){e.next=23;break}return e.delegateYield(p(),"t0",21);case 21:e.next=19;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(16),v.e(e.t1);case 28:return e.prev=28,v.f(),e.finish(28);case 31:e.next=34;break;case 33:throw new Error("Parent and related builds were not updated");case 34:e.next=37;break;case 36:throw new Error("Parent cannot be found");case 37:case"end":return e.stop()}}),e,null,[[16,25,28,31]])})));return function(n,i,a){return e.apply(this,arguments)}}()},ae=function(){return new URLSearchParams(Object(r.g)().search)},te=Object(v.a)({root:{textAlign:"center",display:"grid",gridTemplate:"auto / 1fr",rowGap:"10px",width:"90%",margin:"auto"}}),re=function(){var e=te(),n=Object(y.b)().enqueueSnackbar,i=Object(m.useState)(""),a=Object(b.a)(i,2),r=a[0],s=a[1],v=Object(m.useState)(le),O=Object(b.a)(v,2),x=O[0],k=O[1],N=Object(m.useState)([]),w=Object(b.a)(N,2),B=w[0],L=w[1],F=Z(),I=F.loading,C=F.shipBuilds,z=F.addBuild,E=F.addRelated,P=F.addVariant,V=ae();Object(m.useEffect)((function(){k((function(e){return Object(o.a)(Object(o.a)({},e),{},{specializations:B})}))}),[B]);var A=function(e){var n=e.target.value;switch(e.target.id){case"title":k((function(e){return Object(o.a)(Object(o.a)({},e),{},{title:n})}));break;case"description":k((function(e){return Object(o.a)(Object(o.a)({},e),{},{description:n})}));break;case"buildLink":k((function(e){return Object(o.a)(Object(o.a)({},e),{},{buildLink:n})}));break;case"author":k((function(e){return Object(o.a)(Object(o.a)({},e),{},{author:n})}));break;case"variants":var i=n.split(",").map((function(e){return e.trim()}));k((function(e){return Object(o.a)(Object(o.a)({},e),{},{variants:i})}));break;case"related":var a=n.split(",").map((function(e){return e.trim()}));k((function(e){return Object(o.a)(Object(o.a)({},e),{},{related:a})}))}},R=function(e){k(Object(o.a)(Object(o.a)({},x),{},Object(u.a)({},e.target.name,e.target.checked)))},T=function(){var e=Object(d.a)(c.a.mark((function e(){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=V.get("type"),console.log(i),a=V.get("refID"),e.prev=3,e.t0=i,e.next="variant"===e.t0?7:"related"===e.t0?14:21;break;case 7:if(!a){e.next=12;break}return e.next=10,P(a,C,x);case 10:e.next=13;break;case 12:throw new Error("Build reference ID missing from URL");case 13:return e.abrupt("break",24);case 14:if(!a){e.next=19;break}return e.next=17,E(a,C,x);case 17:e.next=20;break;case 19:throw new Error("Build reference ID missing from URL");case 20:return e.abrupt("break",24);case 21:return e.next=23,z(x);case 23:return e.abrupt("break",24);case 24:n("Build Successfully Submitted",{variant:"success"}),k(Object(o.a)(Object(o.a)({},le),{},{_id:new g.a})),L([]),s(""),e.next=34;break;case 30:e.prev=30,e.t1=e.catch(3),n("Submit Failed: ".concat(e.t1.message),{variant:"error"}),console.error(e.t1);case 34:case"end":return e.stop()}}),e,null,[[3,30]])})));return function(){return e.apply(this,arguments)}}(),M=[{id:"json",label:"Exported JSON",isMultiline:!0,value:r,onChange:function(e){s(e.target.value);var n=function(e){var n,i,a,t=JSON.parse(e),r=t.name,l=t.ship,s=null!==(n=t.references[0].url)&&void 0!==n?n:"",c=!1,d=!1,u=!1,o=t.components,b=o.standard,v=o.hardpoints,j=o.internal,p=null!==(i=b.powerPlant.name)&&void 0!==i?i:"",m=null!==(a=b.powerDistributor.name)&&void 0!==a?a:"",h=v.find((function(e){return null===e||void 0===e?void 0:e.group.toLowerCase().startsWith("guardian")})),f=j.find((function(e){return null===e||void 0===e?void 0:e.group.toLowerCase().startsWith("guardian")}));!1===c&&(p.toLowerCase().startsWith("guardian")||m.toLowerCase().startsWith("guardian")||h||f)&&(c=!0);var O=j.find((function(e){return null===e||void 0===e?void 0:e.group.toLowerCase().startsWith("prismatic")}));!1===d&&O&&(d=!0),["disruptor","imperial hammer","pack-hound","mining lance","enforcer","cytoscrambler","retributor","advanced plasma accelerator","pacifier","rocket propelled fsd disruptor"].forEach((function(e){if(!1===d){var n=v.find((function(n){var i;return(null===n||void 0===n||null===(i=n.name)||void 0===i?void 0:i.toLowerCase())===e.toLowerCase()}));d=!!n}}));var g=v.filter((function(e){return null===e||void 0===e?void 0:e.blueprint})),x=j.filter((function(e){return null===e||void 0===e?void 0:e.blueprint})),k=b.powerPlant.blueprint,N=b.thrusters.blueprint,S=b.frameShiftDrive.blueprint,w=b.lifeSupport.blueprint,y=b.powerDistributor.blueprint,B=b.sensors.blueprint;return!1===u&&(g.length>0||x.length>0||k||N||S||w||y||B)&&(u=!0),{buildName:r,shipName:l,hasGuardian:c,hasPowerplay:d,engineering:u,url:s}}(e.target.value),i=n.buildName,a=n.shipName,t=n.hasGuardian,r=n.hasPowerplay,l=n.engineering,c=n.url,d=l?1:0,u=function(e){return f.find((function(n){return n.name.toLowerCase()===e.toLowerCase()}))}(a),o={_id:x._id,title:i,hasGuardian:t,hasPowerplay:r,buildLink:c,shipId:u.shipId,author:"",specializations:[],engLevel:d,isBeginner:!1,description:"",isVariant:!1,variants:[],related:[],jsonBuild:e.target.value};k(o)}},{id:"title",label:"Title",isMultiline:!1,value:x.title,onChange:A,disabled:!0},{id:"description",label:"More Information - Accepts markdown",isMultiline:!0,value:x.description,onChange:A},{id:"buildLink",label:"Build Link - Full",isMultiline:!1,value:x.buildLink,onChange:A,disabled:!0},{id:"author",label:"Author",isMultiline:!1,value:x.author,onChange:A}],Q=[{label:"Guardian",name:"hasGuardian",checked:x.hasGuardian,disabled:!0},{label:"PowerPlay",name:"hasPowerplay",checked:x.hasPowerplay,disabled:!0},{label:"Beginner",name:"isBeginner",checked:x.isBeginner}];return I?Object(t.jsx)(l.c,{}):Object(t.jsxs)("div",{className:e.root,children:[Object(t.jsx)(j.a,{to:"/information/builds",component:h.b,color:"secondary",variant:"outlined",children:"Return to builds"}),M.map((function(e){return Object(t.jsx)(_,Object(o.a)({},e),e.id)})),Object(t.jsx)(G,{shipType:x.shipId,handleShipChange:function(e,n){var i=n.shipId;k((function(e){return Object(o.a)(Object(o.a)({},e),{},{shipId:i})}))}}),Object(t.jsx)(S,{selectedSpecialties:x.specializations,setSpecialties:L}),Object(t.jsx)(D,{engLevel:x.engLevel,handleEngLevelChange:function(e,n){k(Object(o.a)(Object(o.a)({},x),{},{engLevel:n}))}}),Object(t.jsx)(p.a,{row:!0,children:Q.map((function(e){return Object(t.jsx)(q,Object(o.a)(Object(o.a)({},e),{},{onChange:R}),e.name)}))}),Object(t.jsx)(j.a,{onClick:T,variant:"outlined",children:"Submit Build"})]})},le={_id:new g.a,shipId:"adder",title:"",specializations:[],buildLink:"",engLevel:0,hasGuardian:!1,hasPowerplay:!1,isBeginner:!1,author:"",isVariant:!1,variants:[],related:[],description:"",jsonBuild:""},se=i(119),ce=i(405),de=i(245),ue=(i(277),i(402)),oe=i(403),be=i(404),ve=i(406),je=function(e){var n=[];if(e.engLevel>3||e.engLevel<1)return Object(t.jsx)("div",{className:"engineering",children:Object(t.jsx)("p",{children:"Engineering Level: None"})});for(var i=1;i<=e.engLevel;i++)n=[].concat(Object(x.a)(n),[Object(t.jsx)("img",{src:C,alt:"Engineering Icon"},i)]);return Object(t.jsx)("div",{className:"engineering",children:Object(t.jsxs)("p",{children:[Object(t.jsx)("span",{children:"Engineering Level:"})," ",n.map((function(e){return e}))]})})},pe=i(413),me=function(e){var n=e.build;return Object(t.jsxs)("div",{className:"chips",children:[n.specializations.map((function(e){return Object(t.jsx)(pe.a,{label:e},e)})),n.hasGuardian&&Object(t.jsx)(pe.a,{label:"Guardian"},"guardian"),n.hasPowerplay&&Object(t.jsx)(pe.a,{label:"PowerPlay"},"powerplay"),n.isBeginner&&Object(t.jsx)(pe.a,{label:"Beginner"},"beginner")]})},he=function(e){var n=e.shipBuild,i=function(e){if(e)return f.find((function(n){return n.shipId===e}))}(null===n||void 0===n?void 0:n.shipId);return n&&i?Object(t.jsxs)(ue.a,{variant:"outlined",className:"card",children:[i&&Object(t.jsx)(oe.a,{className:"shipImg",image:null===i||void 0===i?void 0:i.shipImg,title:null===i||void 0===i?void 0:i.name}),Object(t.jsxs)(be.a,{className:"cardContent",children:[Object(t.jsx)(k.a,{children:n.title}),Object(t.jsx)(ce.a,{}),Object(t.jsxs)("div",{className:"shipName",children:[Object(t.jsxs)(k.a,{children:[null===i||void 0===i?void 0:i.name," "]}),Object(t.jsx)("div",{className:"spacer"}),i&&Object(t.jsx)(k.a,{children:de.ShipSize[i.size]})]}),(null===i||void 0===i?void 0:i.requires)&&Object(t.jsxs)(k.a,{children:["Requirement: ",i.requires]}),Object(t.jsx)(me,{build:n}),Object(t.jsx)(ce.a,{}),Object(t.jsx)(je,{engLevel:n.engLevel}),Object(t.jsx)(ce.a,{}),Object(t.jsxs)(k.a,{children:["Author: ",n.author]}),n.variants.length>0?Object(t.jsx)(k.a,{children:"Has Variants"}):null,n.related.length>0?Object(t.jsx)(k.a,{children:"Has Related Builds"}):null,Object(t.jsx)("div",{className:"spacer"}),Object(t.jsxs)(ve.a,{className:"cardActions",children:[Object(t.jsx)(j.a,{variant:"contained",color:"secondary",href:n.buildLink,target:"_blank",children:"View Build"})," ",Object(t.jsx)(j.a,{to:"/information/builds/detail/".concat(n._id),component:h.b,color:"primary",variant:"contained",target:"_blank",children:"View Details"})]})]})]}):null},fe=Object(v.a)((function(e){return{paper:{width:"90%",margin:"auto",marginBottom:5,display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"center"},textCenter:{textAlign:"center"}}})),Oe=function(e){var n=e.title,i=e.buildIDs,a=fe(),r=Z(),s=r.loading,c=r.shipBuilds;return Object(t.jsxs)("div",{id:"variants",className:a.textCenter,children:[Object(t.jsx)(k.a,{variant:"h4",children:n}),s?Object(t.jsx)(l.c,{}):Object(t.jsx)("div",{className:a.paper,children:i.map((function(e){var n=c.find((function(n){return n._id===e}));return Object(t.jsx)(he,{shipBuild:n},e)}))})]})},ge=i(278),xe=i.n(ge),ke=i(349),Ne=i.n(ke),Se=Object(v.a)((function(e){return{paper:{width:"80%",margin:"auto",padding:10,marginBottom:5},img:Object(u.a)({width:300},e.breakpoints.down("md"),{display:"none"}),flexDown:{display:"flex",flexDirection:"column"},flexAcross:Object(u.a)({display:"flex",flexDirection:"row"},e.breakpoints.down("md"),{flexDirection:"column",flexWrap:"wrap"}),spacer:{flexGrow:1},gridDown:{display:"grid",gridTemplate:"auto / 1fr",gap:"5px"},margin:{margin:10},textCenter:{textAlign:"center"}}})),we=function(){var e=Z(),n=e.loading,i=e.shipBuilds,a=Object(r.h)().id,s=Se(),c=Object(m.useState)(),d=Object(b.a)(c,2),u=d[0],o=d[1],v=Object(m.useMemo)((function(){if(!n){var e=i.find((function(e){return e._id&&e._id===a}));return e||null}}),[a,n,i]);return Object(m.useEffect)((function(){if(v){var e=O(v.shipId);o(e)}}),[v]),Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(k.a,{variant:"h3",children:"Build Detail"}),n?Object(t.jsx)(l.c,{}):null===v?Object(t.jsx)(l.d,{}):Object(t.jsxs)(t.Fragment,{children:[Object(t.jsxs)(se.a,{className:"".concat(s.paper," ").concat(s.flexAcross),children:[u&&Object(t.jsxs)("div",{className:"".concat(s.flexDown," ").concat(s.margin),children:[Object(t.jsx)("img",{src:u.shipImg,alt:u.name,className:s.img}),Object(t.jsxs)("div",{className:s.flexAcross,children:[Object(t.jsx)(k.a,{children:u.name}),Object(t.jsx)("span",{className:s.spacer}),Object(t.jsx)(k.a,{children:de.ShipSize[u.size]})]}),u.requires&&Object(t.jsxs)(k.a,{children:["Requires: ",u.requires]}),Object(t.jsx)(j.a,{variant:"contained",color:"primary",href:u.shipReview,target:"_blank",children:"Pilot Review"})]}),Object(t.jsx)(ce.a,{orientation:"vertical",flexItem:!0}),Object(t.jsxs)("div",{className:"".concat(s.flexDown," ").concat(s.spacer," ").concat(s.margin),children:[Object(t.jsx)(k.a,{variant:"h5",children:null===v||void 0===v?void 0:v.title}),Object(t.jsxs)(k.a,{children:["Author: ",null===v||void 0===v?void 0:v.author]}),Object(t.jsx)(me,{build:v}),(null===v||void 0===v?void 0:v.description)&&Object(t.jsx)(xe.a,{plugins:[Ne.a],renderers:{paragraph:k.a},children:v.description})]}),Object(t.jsx)("div",{className:"".concat(s.flexDown," ").concat(s.spacer," ").concat(s.textCenter),children:Object(t.jsxs)("div",{className:s.gridDown,children:[Object(t.jsx)(j.a,{variant:"contained",color:"primary",href:v.buildLink,target:"_blank",children:"Open Coriolis"}),Object(t.jsx)(j.a,{variant:"contained",color:"secondary",to:"/information/builds/add?type=variant&refID=".concat(v._id),component:h.b,children:"Add Variant"}),Object(t.jsx)(j.a,{variant:"contained",color:"secondary",to:"/information/builds/add?type=related&refID=".concat(v._id),component:h.b,children:"Add Related"})]})})]}),v&&v.variants.length>0?Object(t.jsx)(Oe,{title:"Build Variants",buildIDs:v.variants}):null,v&&v.related.length>0?Object(t.jsx)(Oe,{title:"Related Builds",buildIDs:v.related}):null]})]})},ye=i(197),Be=i(407),Le=(i(376),function(e){var n=Object(m.useState)(),i=Object(b.a)(n,2),a=i[0],r=i[1],s=e.buildQuery,c=Z(),d=c.loading,u=c.shipBuilds,o=Object(m.useCallback)((function(){if(!d){console.log(u);var e=function(e,n){if(e&&n){var i=e.filter((function(e){return!1===e.isVariant}));if(null!==n.ship&&(i=i.filter((function(e){return e.shipId===n.ship}))),null!==n.size&&(i=i.filter((function(e){var i=O(e.shipId);return(null===i||void 0===i?void 0:i.size)===n.size?e:void 0}))),null!==n.engLevel&&(i=i.filter((function(e){return e.engLevel===n.engLevel}))),n.specialties.length>0){console.log(n.specialties);var a,t=[],r=Object(T.a)(n.specialties);try{var l=function(){var e=a.value;t=t.length>0?t.filter((function(n){return n.specializations.includes(e)})):i.filter((function(n){return n.specializations.includes(e)}))};for(r.s();!(a=r.n()).done;)l()}catch(u){r.e(u)}finally{r.f()}i=t}if(null!==n.other.guardian){var s=1===n.other.guardian;i=i.filter((function(e){return e.hasGuardian===s}))}if(null!==n.other.powerplay){var c=1===n.other.powerplay;i=i.filter((function(e){return e.hasPowerplay===c}))}if(null!==n.other.beginner){var d=1===n.other.beginner;i=i.filter((function(e){return e.isBeginner===d}))}return i}}(u,s),n=Object(P.a)(e,"shipId");r(n)}}),[d,u,s]);return Object(m.useEffect)((function(){d||o()}),[d,o]),Object(t.jsx)("div",{className:"builds",children:d?Object(t.jsx)(l.c,{}):null===a||void 0===a?void 0:a.map((function(e){return Object(t.jsx)(he,{shipBuild:e},e._id)}))})}),Fe=(i(377),function(e){var n=e.shipType,i=e.setShipType,a=e.shipSize,r=e.setShipSize;return Object(t.jsxs)("div",{className:"shipQuery",children:[Object(t.jsx)("h3",{className:"queryHeader",children:"Ship Type and Size"}),Object(t.jsxs)("div",{className:"shipQuerySection",children:[Object(t.jsx)("div",{className:"shipTypeQuery",children:Object(t.jsx)(G,{shipType:n,handleShipChange:function(e,n){var a=null===n||void 0===n?void 0:n.shipId;i(null!==a&&void 0!==a?a:null),r(null)}})}),Object(t.jsx)("div",{className:"shipSizeQuery",children:Object(t.jsx)(L.a,{title:"What's the size of the ship you're looking for?",arrow:!0,children:Object(t.jsxs)(B.a,{value:a,exclusive:!0,onChange:function(e,n){i(null),r(n)},children:[Object(t.jsx)(N.a,{value:1,children:"Small"}),Object(t.jsx)(N.a,{value:2,children:"Medium"}),Object(t.jsx)(N.a,{value:3,children:"Large"})]})})})]})]})}),Ie=function(e){var n=e.engLevel,i=e.setEngLevel;return Object(t.jsxs)("div",{className:"engineeringQuery",children:[Object(t.jsx)("h3",{className:"queryHeader",children:"Ship Engineering Level"}),Object(t.jsx)(k.a,{children:"Select Engineering level ranging from None to Max Engineering."}),Object(t.jsx)(D,{engLevel:n,handleEngLevelChange:function(e,n){i(n)}})]})},Ce=i(378),De=i.n(Ce),ze=function(e){var n=e.other,i=e.setOther;return Object(t.jsxs)("div",{className:"otherQuery",children:[Object(t.jsx)("h3",{className:"queryHeader",children:"Other Filters"}),Object(t.jsxs)("div",{className:"otherButtons",children:[Object(t.jsx)(L.a,{title:"Should the build have Guardian components?",arrow:!0,children:Object(t.jsxs)("div",{className:"guardian",children:[Object(t.jsx)("label",{children:"Guardian"}),Object(t.jsxs)(B.a,{value:n.guardian,exclusive:!0,onChange:function(e,a){i(Object(o.a)(Object(o.a)({},n),{},{guardian:a}))},children:[Object(t.jsx)(N.a,{value:1,children:Object(t.jsx)(De.a,{})}),Object(t.jsx)(N.a,{value:0,children:Object(t.jsx)(I.a,{})})]})]})}),Object(t.jsx)(L.a,{title:"Does the build have Power Play modules?",arrow:!0,children:Object(t.jsxs)("div",{className:"powerplay",children:[Object(t.jsx)("label",{children:"Power Play"}),Object(t.jsxs)(B.a,{value:n.powerplay,exclusive:!0,onChange:function(e,a){i(Object(o.a)(Object(o.a)({},n),{},{powerplay:a}))},children:[Object(t.jsx)(N.a,{value:1,children:Object(t.jsx)(De.a,{})}),Object(t.jsx)(N.a,{value:0,children:Object(t.jsx)(I.a,{})})]})]})}),Object(t.jsx)(L.a,{title:"Is this build easy to achieve early-game?",children:Object(t.jsxs)("div",{className:"beginner",children:[Object(t.jsx)("label",{children:"Beginner"}),Object(t.jsxs)(B.a,{value:n.beginner,exclusive:!0,onChange:function(e,a){i(Object(o.a)(Object(o.a)({},n),{},{beginner:a}))},children:[Object(t.jsx)(N.a,{value:1,children:Object(t.jsx)(De.a,{})}),Object(t.jsx)(N.a,{value:0,children:Object(t.jsx)(I.a,{})})]})]})})]})]})},_e=function(e){var n=Object(m.useState)(null),i=Object(b.a)(n,2),a=i[0],r=i[1],l=Object(m.useState)(null),s=Object(b.a)(l,2),c=s[0],d=s[1],u=Object(m.useState)(null),v=Object(b.a)(u,2),p=v[0],f=v[1],O=Object(m.useState)([]),g=Object(b.a)(O,2),x=g[0],k=g[1],N=Object(m.useState)({guardian:null,powerplay:null,beginner:null}),w=Object(b.a)(N,2),y=w[0],B=w[1],L=ae();Object(m.useEffect)((function(){"true"===L.get("beginner")&&B(Object(o.a)(Object(o.a)({},y),{},{beginner:1}))}),[]),Object(m.useEffect)((function(){(0,e.queryUpdate)({ship:a,size:c,engLevel:p,specialties:x,other:y})}),[a,c,p,x,y]);return Object(t.jsxs)(se.a,{className:"query",children:[Object(t.jsx)(S,{selectedSpecialties:x,setSpecialties:k}),Object(t.jsx)(Fe,{shipType:a,setShipType:r,shipSize:c,setShipSize:d}),Object(t.jsx)(Ie,{engLevel:p,setEngLevel:f}),Object(t.jsx)(ze,{other:y,setOther:B}),Object(t.jsxs)("div",{className:"reset",children:[Object(t.jsx)(j.a,{onClick:function(){r(null),d(null),f(null),k([]),B({guardian:null,powerplay:null,beginner:null})},color:"primary",variant:"outlined",className:"resetButton",children:"Reset Selections"}),Object(t.jsx)(j.a,{variant:"outlined",color:"secondary",component:h.b,to:"/information/builds/add",children:"Add Build"})]})]})},Ee=i(380),Pe=i.n(Ee),Ve=(i(379),function(e){var n=Object(m.useState)(),i=Object(b.a)(n,2),a=i[0],r=i[1],l=Object(m.useRef)(null),s=Object(ye.a)("(max-width:1000px)");return Object(t.jsxs)("section",{className:"selection",children:[Object(t.jsx)(k.a,{variant:"h3",children:"Ship Build Archive"}),Object(t.jsx)(_e,{queryUpdate:function(e){r(e)}}),Object(t.jsx)("div",{ref:l,children:Object(t.jsx)(Le,{buildQuery:a})}),s&&Object(t.jsx)("div",{className:"fab",children:Object(t.jsx)(Be.a,{color:"primary",className:"fab",onClick:function(){l.current&&l.current.scrollIntoView({behavior:"smooth"})},children:Object(t.jsx)(Pe.a,{})})})]})}),Ge=function(){var e=Object(r.i)().path;return Z().loading?Object(t.jsx)(l.c,{}):Object(t.jsxs)(r.d,{children:[Object(t.jsx)(r.b,{path:"".concat(e,"/detail/:id"),children:Object(t.jsx)(we,{})}),Object(t.jsx)(r.b,{path:e,exact:!0,children:Object(t.jsx)(Ve,{})}),Object(t.jsx)(r.b,{path:"".concat(e,"/add"),children:Object(t.jsx)(re,{})})]})}}}]);
//# sourceMappingURL=4.8e45531b.chunk.js.map